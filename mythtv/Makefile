#############################################################################
# Makefile for building: mythtv
# Generated by qmake (1.03a) on: Fri Sep 27 14:12:29 2002
# Project:  mythtv.pro
# Template: subdirs
# Command: $(QMAKE) mythtv.pro
#############################################################################

MAKEFILE =	Makefile
QMAKE    =	qmake
SUBDIRS  =	libs \
		filters \
		programs \
		themes \
		setup
DEL_FILE =    rm -f
SUBTARGETS =	 \
		sub-libs \
		sub-filters \
		sub-programs \
		sub-themes \
		sub-setup

first: all

all: Makefile $(SUBTARGETS)

libs/$(MAKEFILE): 
	cd libs && $(QMAKE) -o $(MAKEFILE)
sub-libs: libs/$(MAKEFILE) FORCE
	cd libs && $(MAKE) -f $(MAKEFILE)

filters/$(MAKEFILE): 
	cd filters && $(QMAKE) -o $(MAKEFILE)
sub-filters: filters/$(MAKEFILE) FORCE
	cd filters && $(MAKE) -f $(MAKEFILE)

programs/$(MAKEFILE): 
	cd programs && $(QMAKE) -o $(MAKEFILE)
sub-programs: programs/$(MAKEFILE) FORCE
	cd programs && $(MAKE) -f $(MAKEFILE)

themes/$(MAKEFILE): 
	cd themes && $(QMAKE) -o $(MAKEFILE)
sub-themes: themes/$(MAKEFILE) FORCE
	cd themes && $(MAKE) -f $(MAKEFILE)

setup/$(MAKEFILE): 
	cd setup && $(QMAKE) -o $(MAKEFILE)
sub-setup: setup/$(MAKEFILE) FORCE
	cd setup && $(MAKE) -f $(MAKEFILE)

Makefile: mythtv.pro  $(QTDIR)/mkspecs/linux-g++/qmake.conf 
	$(QMAKE) mythtv.pro
qmake: qmake_all
	@$(QMAKE) mythtv.pro

qmake_all: libs/$(MAKEFILE) filters/$(MAKEFILE) programs/$(MAKEFILE) themes/$(MAKEFILE) setup/$(MAKEFILE)
	for i in $(SUBDIRS); do ( if [ -d $$i ]; then cd $$i ; grep "^qmake_all:" $(MAKEFILE) 2>/dev/null >/dev/null && $(MAKE) -f $(MAKEFILE) qmake_all || true; fi; ) ; done

clean: qmake_all FORCE
	for i in $(SUBDIRS); do ( if [ -d $$i ]; then cd $$i ; $(MAKE) -f $(MAKEFILE) clean; fi; ) ; done
uninstall install uiclean mocclean: qmake_all FORCE
	for i in $(SUBDIRS); do ( if [ -d $$i ]; then cd $$i ; $(MAKE) -f $(MAKEFILE) $@; fi; ) ; done
distclean: qmake_all FORCE
	for i in $(SUBDIRS); do ( if [ -d $$i ]; then cd $$i ; $(MAKE) -f $(MAKEFILE) $@ ; $(DEL_FILE) $(MAKEFILE) ; fi; ) ; done

FORCE:

