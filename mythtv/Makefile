#############################################################################
# Makefile for building: mythtv
# Generated by qmake (1.03a) on: Thu Aug 15 19:18:45 2002
# Project:  mythtv.pro
# Template: subdirs
# Command: $(QMAKE) mythtv.pro
#############################################################################

MAKEFILE =	Makefile
QMAKE    =	qmake
SUBDIRS  =	libavcodec \
		libNuppelVideo \
		libmythtv \
		mythdialog \
		mythepg \
		mythtv \
		menutest \
		mythfrontend
DEL_FILE =    rm -f
SUBTARGETS =	 \
		sub-libavcodec \
		sub-libNuppelVideo \
		sub-libmythtv \
		sub-mythdialog \
		sub-mythepg \
		sub-mythtv \
		sub-menutest \
		sub-mythfrontend

first: all

all: Makefile $(SUBTARGETS)

libavcodec/$(MAKEFILE): 
	cd libavcodec && $(QMAKE) -o $(MAKEFILE)
sub-libavcodec: libavcodec/$(MAKEFILE) FORCE
	cd libavcodec && $(MAKE) -f $(MAKEFILE)

libNuppelVideo/$(MAKEFILE): 
	cd libNuppelVideo && $(QMAKE) -o $(MAKEFILE)
sub-libNuppelVideo: libNuppelVideo/$(MAKEFILE) FORCE
	cd libNuppelVideo && $(MAKE) -f $(MAKEFILE)

libmythtv/$(MAKEFILE): 
	cd libmythtv && $(QMAKE) -o $(MAKEFILE)
sub-libmythtv: libmythtv/$(MAKEFILE) FORCE
	cd libmythtv && $(MAKE) -f $(MAKEFILE)

mythdialog/$(MAKEFILE): 
	cd mythdialog && $(QMAKE) -o $(MAKEFILE)
sub-mythdialog: mythdialog/$(MAKEFILE) FORCE
	cd mythdialog && $(MAKE) -f $(MAKEFILE)

mythepg/$(MAKEFILE): 
	cd mythepg && $(QMAKE) -o $(MAKEFILE)
sub-mythepg: mythepg/$(MAKEFILE) FORCE
	cd mythepg && $(MAKE) -f $(MAKEFILE)

mythtv/$(MAKEFILE): 
	cd mythtv && $(QMAKE) -o $(MAKEFILE)
sub-mythtv: mythtv/$(MAKEFILE) FORCE
	cd mythtv && $(MAKE) -f $(MAKEFILE)

menutest/$(MAKEFILE): 
	cd menutest && $(QMAKE) -o $(MAKEFILE)
sub-menutest: menutest/$(MAKEFILE) FORCE
	cd menutest && $(MAKE) -f $(MAKEFILE)

mythfrontend/$(MAKEFILE): 
	cd mythfrontend && $(QMAKE) -o $(MAKEFILE)
sub-mythfrontend: mythfrontend/$(MAKEFILE) FORCE
	cd mythfrontend && $(MAKE) -f $(MAKEFILE)

Makefile: mythtv.pro  $(QTDIR)/mkspecs/linux-g++/qmake.conf 
	$(QMAKE) mythtv.pro
qmake: qmake_all
	@$(QMAKE) mythtv.pro

qmake_all: libavcodec/$(MAKEFILE) libNuppelVideo/$(MAKEFILE) libmythtv/$(MAKEFILE) mythdialog/$(MAKEFILE) mythepg/$(MAKEFILE) mythtv/$(MAKEFILE) menutest/$(MAKEFILE) mythfrontend/$(MAKEFILE)
	for i in $(SUBDIRS); do ( if [ -d $$i ]; then cd $$i ; grep "^qmake_all:" $(MAKEFILE) 2>/dev/null >/dev/null && $(MAKE) -f $(MAKEFILE) qmake_all || true; fi; ) ; done

clean: qmake_all FORCE
	for i in $(SUBDIRS); do ( if [ -d $$i ]; then cd $$i ; $(MAKE) -f $(MAKEFILE) clean; fi; ) ; done
uninstall install uiclean mocclean: qmake_all FORCE
	for i in $(SUBDIRS); do ( if [ -d $$i ]; then cd $$i ; $(MAKE) -f $(MAKEFILE) $@; fi; ) ; done
distclean: qmake_all FORCE
	for i in $(SUBDIRS); do ( if [ -d $$i ]; then cd $$i ; $(MAKE) -f $(MAKEFILE) $@ ; $(DEL_FILE) $(MAKEFILE) ; fi; ) ; done

FORCE:

