<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="LinuxDoc-Tools 0.9.20">
 <TITLE>Installing and using mythtv: Setting up ALSA and the mixer.</TITLE>
 <LINK HREF="mythtv-HOWTO-8.html" REL=next>
 <LINK HREF="mythtv-HOWTO-6.html" REL=previous>
 <LINK HREF="mythtv-HOWTO.html#toc7" REL=contents>
</HEAD>
<BODY>
<A HREF="mythtv-HOWTO-8.html">Next</A>
<A HREF="mythtv-HOWTO-6.html">Previous</A>
<A HREF="mythtv-HOWTO.html#toc7">Contents</A>
<HR>
<H2><A NAME="s7">7.</A> <A HREF="mythtv-HOWTO.html#toc7">Setting up ALSA and the mixer.</A></H2>

<P>If your video doesn't appear to be in-sync with your audio, it could be
because you are listening to the real-time audio from your video card rather
than after it's been processed and synchronized to the video by mythtv.</P>
<P>What you need to do is to mute the "line-in" of your sound card and also
set it as the recording source.</P>
<P>There are two ways to do this.  Graphically, and from the command line.</P>

<H2><A NAME="ss7.1">7.1</A> <A HREF="mythtv-HOWTO.html#toc7.1">Graphically setting up the mixer.</A>
</H2>

<H3>Mandrake 9.0</H3>

<P>Open Kmix by K->Multimedia->Sound->Kmix</P>
<P>Click on Settings->Configure  Make sure that "Tick Marks" and "Show
labels" have "X"'s in them.  This will make it easier to find the correct
audio source.  Click OK.</P>
<P>On the mixer page, look for Line-In on your sound card.  You should see
two LED's - a green one at the top, and a red one at the bottom.  The green
one at the top is for muting; you want to make sure that the green LED is a
dark green, meaning that it's "off".  You also want to click on the red LED
so that it turns bright red, indicating that it's "ON"; this insures that
the Line-in is used as the source.  Click OK, and make sure that you save
the settings so that this is your default.</P>

<H3>Red Hat Linux 8.0</H3>

<P>There is some uncertainty (in my mind anyway) about ALSA sound and Red Hat.
Take everything here with a grain of salt. Here is what my impression of
how things are right now. The mythtv developer recommends ALSA sound drivers.
However, Red Hat Linux 8.0 ships with some other sound driver/management
package.  Installing ALSA looks like a real bear, and includes a kernel
recompile. Then you have to figure out how to deactivate the Red Hat Linux
8.0 built in sound package. I decided to give it whirl with the built in
sound package. I <B>was</B> able to get satisfactory results on my
machine using the RTJPEG video encoder and turning off MP3 sound
compression. If I try to use the better MPEG4 video encoder and/or use MP3
audio compression I get slight sound sync issues and a few skips. I think
this is because my machine is too slow. However, it is possible that it is
really because I'm using the wrong sound package. Since I didn't install
ALSA myself you will need to evaluate the situation on your own. However, I
will give instructions for how I got the default Red Hat Linux 8.0 sound
package working with mythtv.</P>
<P>Red Hat Linux 8.0 does not use some default KDE and Gnome control panels and
substitutes its own. Sound is one of these cases. To configure sound to
work with mythtv, select Gnome Menu> Sound &amp; Video>Volume Control. This
will open up a mixer. Make sure your global volume (on the far left) is
up. Also make sure that the "line in" section has "mute" checked, and
"record" checked and the gain is turned up. You may have to experiment
with volume/gain levels to get the best sound.  If you experience
difficulty with sound try removing your sound jack from "line in" and
moving it to "mike in" Then go to the mixer and check "mute" and
"record" on the "mike in", and turn up the gain.</P>

<H2><A NAME="ss7.2">7.2</A> <A HREF="mythtv-HOWTO.html#toc7.2">Setting the mixer from the command line.</A>
</H2>

<P>If you're running Mandrake 9.0 and have installed the alsa-utils package,
then the <B>amixer</B> program can be used to setup the mixer.</P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
% amixer set Master,0 100%,100% unmute
% amixer set Line,0 100%,100% mute capture
% su -
# alsactl store
# exit
% 
</PRE>
</CODE></BLOCKQUOTE>

That takes care of setting the volume correctly, and the ALSA startup script
will restore the volume after a reboot.</P>

<HR>
<A HREF="mythtv-HOWTO-8.html">Next</A>
<A HREF="mythtv-HOWTO-6.html">Previous</A>
<A HREF="mythtv-HOWTO.html#toc7">Contents</A>
</BODY>
</HTML>
