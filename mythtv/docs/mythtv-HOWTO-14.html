<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="LinuxDoc-Tools 0.9.20">
 <TITLE>Installing and using MythTV: MythMusic. </TITLE>
 <LINK HREF="mythtv-HOWTO-15.html" REL=next>
 <LINK HREF="mythtv-HOWTO-13.html" REL=previous>
 <LINK HREF="mythtv-HOWTO.html#toc14" REL=contents>
</HEAD>
<BODY>
<A HREF="mythtv-HOWTO-15.html">Next</A>
<A HREF="mythtv-HOWTO-13.html">Previous</A>
<A HREF="mythtv-HOWTO.html#toc14">Contents</A>
<HR>
<H2><A NAME="s14">14.</A> <A HREF="mythtv-HOWTO.html#toc14">MythMusic. </A></H2>

<P>[Documentation still being developed.]</P>
<P>MythMusic has a number of pre-requisites that must be satisfied before it
is operational.  Depending on your distribution, some of these prerequisites can
be satisfied through the various package managers.  If your distribution doesn't
offer pre-compiled versions of the software below, then follow the generic
instructions for manually compiling and installing the software.</P>
<P>The pre-requisites for MythMusic are:
<UL>
<LI>MAD</LI>
<LI>libvorbis-devel</LI>
<LI>FLAC</LI>
<LI>libcdaudio</LI>
<LI>CDParanoia</LI>
</UL>
</P>

<H2><A NAME="ss14.1">14.1</A> <A HREF="mythtv-HOWTO.html#toc14.1">Manual installation of pre-requisites</A>
</H2>

<P>These instructions are for distributions which don't have pre-compiled
versions of the software necessary to run MythTV.</P>
<P>Download MAD from 
<A HREF="http://www.mars.org/home/rob/proj/mpeg/">http://www.mars.org/home/rob/proj/mpeg/</A>  Save it to a directory you
can find later.</P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
$ tar -xzf mad-0.14.2b.tar.gz
$ cd mad-0.14.2b
$ ./configure
$ make
$ su
# make install
# exit
$ 
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P>Download FLAC from 
<A HREF="http://flac.sourceforge.net">http://flac.sourceforge.net</A> and install:</P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
$ tar -xzf flac-1.0.4.tar.gz
$ cd flac-1.0.4
$ ./configure
$ make
$ su
# make install
# exit
$ 
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P>Download libcdaudio from 
<A HREF="http://sourceforge.net/project/showfiles.php?group_id=27134">libcdaudio.sourceforge.net</A> and
install:
<BLOCKQUOTE><CODE>
<PRE>
$ tar -xzf libcdaudio-0.99-6.tar.gz
$ cd libcdaudio-0.99.6
$ ./configure
$ make
$ su
# make install
# exit
$ 
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P>Download cdparanoia from 
<A HREF="http://www.xiph.org/paranoia/download/cdparanoia-III-alpha9.8.src.tgz">http://www.xiph.org/paranoia/down.html</A>.
<BLOCKQUOTE><CODE>
<PRE>
$ tar -xzf cdparanoia-III-alpha9.8.src.tgz
$ cd cdparanoia-III-alpha9.8
$ ./configure
$ make
$ su
# make install
# cd /usr/lib
# ln -sf libcdda_interface.so.0.9.8 libcdda_interface.so
# ln -sf libcdda_paranoia.so.0.9.8 libcdda_paranoia.so
# exit
$ 
</PRE>
</CODE></BLOCKQUOTE>
</P>
<H2><A NAME="ss14.2">14.2</A> <A HREF="mythtv-HOWTO.html#toc14.2">Mandrake 9.0</A>
</H2>

<P>Mandrake 9.0 has a number of the pre-requisites available on the
installation CD.  Some of the software you're going to need will have to be
obtained from the "contrib" or "cooker" development repositories. 
Applications downloaded from "cooker" come from the development branch, so
there may be issues with some software.</P>

<P><B>urpmi</B> is the simplest tool for installation of packages from the
command line.  The difficult part is the configuration aspect.  The
following website 
<A HREF="http://plf.zarb.org/~nanardon/urpmiweb.php">http://plf.zarb.org/~nanardon/urpmiweb.php</A> will allow you to choose
a mirror site and then present the command-line configuration text for that
mirror.  You will most likely need to add a "Contrib" mirror to your setup. 
Once you have done that, you can proceed.</P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
# urpmi libmad0 libmad0-devel libflac4 libflac4-devel libcdaudio cdparanoia
# urpmi libcdda0 libcdda0-devel libvorbis0 libvorbis0-devel
</PRE>
</CODE></BLOCKQUOTE>
</P>

<H3>Additional options with CVS MythMusic</H3>

<P>Additional visualizations have been added to MythMusic.  If you wish to
use these, there are some prerequisites you must install prior to compiling.</P>
<P>
<UL>
<LI>fftw</LI>
<LI>OpenGL</LI>
<LI>SDL</LI>
</UL>
</P>
<P><CODE>fftw</CODE> may be obtained from 
<A HREF="http://www.fftw.org/">http://www.fftw.org/</A>.  It may also be installed in Mandrake 9.1 with
<CODE># urpmi libfftw2 libfftw2-devel</CODE></P>
<P><CODE>OpenGL</CODE> should be installed on practically all distributions. 
However, you will need the devel module.  On Mandrake 9.1, you would need to
install <CODE># urpmi libMesaGLU1-devel</CODE>.</P>
<P><CODE>SDL</CODE> may be obtained from 
<A HREF="http://www.libsdl.org">http://www.libsdl.org</A>.  On Mandrake 9.1,
you may install it by executing: <CODE># urpmi libsdl1.2 libsdl1.2-devel</CODE></P>

<H2><A NAME="ss14.3">14.3</A> <A HREF="mythtv-HOWTO.html#toc14.3">Compiling MythMusic.</A>
</H2>

<P>Once all the pre-requisites have been installed, you can proceed with
getting MythMusic going.
<B>NOTE</B>:  If you are running the CVS version of MythMusic, make sure
that you run <CODE>./configure</CODE> first.  If you wish to use the new
visualizations, make sure you install the prerequisites.  Run
<CODE>./configure --help</CODE> for help.</P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
$ make
$ su
# make install
# exit
$ cd musicdb
$ mysql -u root &lt; metadata.sql
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P>Edit the <CODE>/usr/local/share/mythtv/mythmusic-settings.txt</CODE> file for
your particular system.  Here's some explanation about the Ignore_ID3 and
The NonID3FileNameFormat:</P>
<P>If Ignore_ID3 is set to TRUE, mythmusic will try to determine the
Genre, Artist, Album, Track Number, and Title from the filename of the
mp3 file.  The NonID3FileNameFormat variable should be set to the
directory/file format where the mp3 files are stored.  For instance, I
store mine in the above shown Genre/Artist/Album/Track format.  Mythmusic
will then use this information to fill in the proper fields when it
populates the musicmetadata table rather than searching for an ID3 tag in
the mp3 file.</P>
<P>The files can be layed out in any format, such as:</P>
<P>Genre/Artist/Album/Title
Artist/Genre/Album/Title
Artist/Album/Title (with Genre left as Unknown)</P>
<P>The track number is optional but can be specified with the title by using
the TRACK_TITLE keyword instead of TITLE.  If TRACK_TITLE is used,
then the filename can have a space, hyphen, or underscore separating the
track number from the track title.  Keywords are case insensitive, so if
you specify GENRE it's the same as Genre in the format field.</P>
<P>The Ignore_ID3 option does not disable the code that determines the track
length, just the portion that tries to read ID3 info.</P>

<H2><A NAME="ss14.4">14.4</A> <A HREF="mythtv-HOWTO.html#toc14.4">Using MythMusic. </A>
</H2>

<P>MythMusic is fairly simple to use.  It is
recommended that you insert the CD before selecting "Import CD".  You should
also ensure that your system doesn't try to automount the CD and begin
playing it automatically.</P>
<P>Another item to consider:  there are some CD's that contain computer data
that runs as a "CD Extra".  After the CD information lookup, ensure that the
"(Data for CD Extra)" track is not selected for encoding, otherwise
MythMusic will hang attempting to encode the non-audio data.</P>

<HR>
<A HREF="mythtv-HOWTO-15.html">Next</A>
<A HREF="mythtv-HOWTO-13.html">Previous</A>
<A HREF="mythtv-HOWTO.html#toc14">Contents</A>
</BODY>
</HTML>
