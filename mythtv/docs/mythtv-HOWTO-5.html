<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="LinuxDoc-Tools 0.9.20">
 <TITLE>Installing and using MythTV: Downloading and compiling.</TITLE>
 <LINK HREF="mythtv-HOWTO-6.html" REL=next>
 <LINK HREF="mythtv-HOWTO-4.html" REL=previous>
 <LINK HREF="mythtv-HOWTO.html#toc5" REL=contents>
</HEAD>
<BODY>
<A HREF="mythtv-HOWTO-6.html">Next</A>
<A HREF="mythtv-HOWTO-4.html">Previous</A>
<A HREF="mythtv-HOWTO.html#toc5">Contents</A>
<HR>
<H2><A NAME="s5">5.</A> <A HREF="mythtv-HOWTO.html#toc5">Downloading and compiling.</A></H2>

<P>Get MythTV from the 
<A HREF="http://www.mythtv.org">mythtv.org</A>
web site.  Save the tarball to a directory you can find.</P>
<P>Get XMLTV from 
<A HREF="http://xmltv.sourceforge.net">http://xmltv.sourceforge.net</A>.  Download version 0.5.14 if you're in
North America.</P>
<P><B>NOTE</B>:  0.5.14 is the last version that will work with MythTV 0.10. 
XMLTV 0.5.15 will only work with CVS versions of MythTV.  Don't install the
latest version of XMLTV if you're not running CVS.</P>
<P>
<HR>
<PRE>
NOTE for Mandrake users:  If you have added a "PLF" mirror, you may skip the
next step and type:

# urpmi libmp3lame0 libmp3lame0-devel

NOTE for Red Hat users: If you are installing with apt or yum, you may skip this step, it will be taken care
of. Otherwise get lame and lame-devel from FreshRPMS: http://freshrpms.net/rpm/lame/

After downloading, be sure to install both:
# rpm -Uvh lame*
</PRE>
<HR>
</P>
<P>Get lame from 
<A HREF="http://www.mp3dev.org/mp3">http://www.mp3dev.org/mp3</A>.  Download the source code to v3.93.1 by
following the links to sourceforge.net</P>

<H2><A NAME="nonintelcpu_"></A> <A NAME="ss5.1">5.1</A> <A HREF="mythtv-HOWTO.html#toc5.1">Notes on compiling on a system with non-Intel processors. </A>
</H2>

<P>If you've got a system with an AMD K6-2 or a VIA C3 processor, make the
following change in the <CODE>settings.pro</CODE> file.</P>
<P>Look for 
<PRE>
-march=pentiumpro
</PRE>
 
and replace it with
<PRE>
-march=i586
</PRE>
 
before you compile.</P>
<P>Recent AMD processors, like the Duron, Thunderbird and Athlon don't need this
change.</P>

<H2><A NAME="ss5.2">5.2</A> <A HREF="mythtv-HOWTO.html#toc5.2">Building LAME.</A>
</H2>

<P>Open a shell and switch to the directory where you saved lame.
<BLOCKQUOTE><CODE>
<PRE>
$ tar -xzf lame-3.93.1.tar.gz
$ cd lame-3.93.1
$ ./configure
$ make
$ make test
$ su
# make install
</PRE>
</CODE></BLOCKQUOTE>

Check that it worked:
<BLOCKQUOTE><CODE>
<PRE>
# ls -l /usr/local/lib
-rw-r--r--    1 root     root       381706 Nov  4 14:22 libmp3lame.a
-rwxr-xr-x    1 root     root          674 Nov  4 14:22 libmp3lame.la*
lrwxrwxrwx    1 root     root           19 Nov  4 14:22 libmp3lame.so ->
libmp3lame.so.0.0.0*
lrwxrwxrwx    1 root     root           19 Nov  4 14:22 libmp3lame.so.0 ->
libmp3lame.so.0.0.0*
-rwxr-xr-x    1 root     root       360197 Nov  4 14:22
libmp3lame.so.0.0.0*

# exit
$ 
</PRE>
</CODE></BLOCKQUOTE>
</P>

<H2><A NAME="ss5.3">5.3</A> <A HREF="mythtv-HOWTO.html#toc5.3">XMLTV. </A>
</H2>

<H3>Red Hat Linux 9:</H3>

<P>RPMs for <B>XMLTV</B> and all of its dependencies can be obtained from
<A HREF="http://atrpms.physik.fu-berlin.de/name/xmltv/">http://atrpms.physik.fu-berlin.de/name/xmltv/</A>. The web page has a
list of all the dependent packages you must download and install.
<BLOCKQUOTE><CODE>
<PRE>
# rpm -Uvh xmltv* perl*
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P>If you install from this location you may skip to 
<A HREF="#manually_building_mythtv">Manually building MythTV</A>.</P>
<H3>Mandrake</H3>

<P>You may install the XMLTV prerequisites if you have added a contrib
mirror by typing:
<BLOCKQUOTE><CODE>
<PRE>
# urpmi perl-xml-twig perl-xml-writer perl-datemanip perl-libwww-perl
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P>and skipping straight to the XMLTV compililation step.</P>

<H3>Other distributions and manual installation.</H3>

<P><B>NOTE</B>: Red Hat Linux 8.0 and Suse 8.1 users, you <EM>must</EM>
download and install an updated version of libexpat.  The version that ships
with Red Hat Linux 8.0 and Suse 8.1 (version 1.95.4) is buggy, and will
cause problems with XML::Twig. All other distributions may skip this step
and proceed with 
<A HREF="#untarring_xmltv">untar'ing</A> the xmltv file.</P>
<P>If you get errors installing XML::Twig or other XMLTV prerequisites,  
try deleting the old versions of libexpat
<BLOCKQUOTE><CODE>
<PRE>
$ su
# rm -f /usr/lib/libexpat*
# /sbin/ldconfig
# exit
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P>Download version 1.95.5 from sourceforge.net:  
<A HREF="http://sourceforge.net/projects/expat/">http://sourceforge.net/projects/expat/</A></P>
<P>Open a shell prompt:
<BLOCKQUOTE><CODE>
<PRE>
$ tar -xzf expat-1.95.5.tar.gz
$ cd expat-1.95.5
$ ./configure
$ make
$ su
# make install
# /sbin/ldconfig
# exit
$ 
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P>Continuing on:</P>
<P>
<A NAME="untarring_xmltv"></A> Untar the xmltv file:
<BLOCKQUOTE><CODE>
<PRE>
$ tar -xjf xmltv-0.5.15.tar.bz2
$ cd xmltv-0.5.15
</PRE>
</CODE></BLOCKQUOTE>

Install the xmltv prerequisites:</P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
$ su
# perl -MCPAN -e shell
cpan> install XML::Twig
cpan> install Date::Manip
Date::Manip is up to date.
cpan> install LWP
cpan> install XML::Writer
cpan> exit
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P>Change to the XMLTV directory and compile it:
<BLOCKQUOTE><CODE>
<PRE>
$ cd xmltv-0.5.15
$ perl Makefile.PL
</PRE>
</CODE></BLOCKQUOTE>

You can answer "N" to the tv_check, tv_pick_cgi questions.  Say "yes" to
the grabber required for your location.</P>
<P>You may get errors about modules not being installed.  They shouldn't matter
if you're installing North America and have followed the instructions to
this point.
<BLOCKQUOTE><CODE>
<PRE>
$ make
$ make test
$ su
# make install
# exit
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P>
<A NAME="manually_building_mythtv"></A> </P>
<H2><A NAME="ss5.4">5.4</A> <A HREF="mythtv-HOWTO.html#toc5.4">Manually building MythTV.</A>
</H2>

<P>Unpack MythTV
<BLOCKQUOTE><CODE>
<PRE>
$ tar -xjf mythtv-0.10.tar.bz2
$ cd mythtv-0.10
$ ./configure
$ make
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P>
<A NAME="RH80_OSD_Strip"></A> 
<HR>
<PRE>
NOTE for Red Hat 8 users: You must manually modify a Makefile
within the themes directory, otherwise your on screen display (OSD) will be
"generic" rather than themed.  The solution is to edit the Makefile within
the themes directory and comment out (using a # symbol before each line)
every line that starts with the word "strip". Make sure you switch back to
the MythTV build directory before executing the next step.
</PRE>
<HR>
</P>
<P>Switch to superuser:
<BLOCKQUOTE><CODE>
<PRE>
$ su
# make install
# exit
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P><B>NOTE</B>:  subsequent configuration steps assume that you are within
the MythTV directory that you <CODE>cd</CODE>'d to above.</P>

<H2><A NAME="Gentoo_build"></A> <A NAME="ss5.5">5.5</A> <A HREF="mythtv-HOWTO.html#toc5.5">Gentoo. </A>
</H2>

<P>Installation of MythTV on Gentoo consists of making a local portage
directory with the necessary ebuild and digest files.  Tony Clark 
<A HREF="mailto:tclark@telia.net">mailto:tclark@telia.net</A> has
created a portage file which can be downloaded from
<A HREF="http://smalltime.com/mythtv/mythtv-gentoo-portage.tar.bz2">http://smalltime.com/mythtv/mythtv-gentoo-portage.tar.bz2</A></P>
<P>Once you have downloaded the portage file, installation is simple.
<BLOCKQUOTE><CODE>
<PRE>
$ su -
# emerge rsync # make sure portage is up to date.
# cd /usr/local
# tar xvfjp Path_To/mythtv-gentoo-portage.tar.bz2
# vi /etc/make.conf
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P>Add mysql to your USE variable.  ie <CODE>USE="mysql ...."</CODE></P>
<P>Locate the line that contains: <CODE>#/usr/local/portage</CODE> and remove the #
<BLOCKQUOTE><CODE>
<PRE>
# ACCEPT_KEYWORDS="~x86" emerge mythtv
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P><B>NOTE</B>: If you have perl dependency problems update to >=ExtUtils-MakeMaker-6.05-r4</P>


<HR>
<A HREF="mythtv-HOWTO-6.html">Next</A>
<A HREF="mythtv-HOWTO-4.html">Previous</A>
<A HREF="mythtv-HOWTO.html#toc5">Contents</A>
</BODY>
</HTML>
